<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
		<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="chrome=1">
		<title>vArmyKnife: Variant Army Knife Toolkit</title>

		<link rel="stylesheet" href="stylesheets/styles.2.css">
		<link rel="stylesheet" href="stylesheets/pygment_trac.css">
		<script src="javascripts/scale.fix.js"></script>
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

		<!--[if lt IE 9]>
		<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
</head>

<body>
<div class="wrapper">


<header>
			<h1><a href="index.html">vArmyKnife</a></h1>
			<p>Variant Army Knife</p>
</header>


<section>
<h1>VARIANT OPERATIONS</h1>

<p>Variant Operations or Variant Map Functions are a set of sub-utilities that perform operations on a variant set one variant at a time. When more than one function is specified in a run, these functions are performed in the order that they appear in the command line, after all other operations have been carried out (excluding output ops).
Basic Syntax:
    --FCN functionName|ID|param1=p1|param2=p2|...</p>

</section> <h2>Available Functions:</h2> <section>

<h3>snpEffExtract:</h3>

<p>-annTag: A valid ANN formatted field, usually generated by SNPeff.(String, default=ANN)
-bioTypeKeepList: A comma delimited list of the transcript biotypes that you want to keep. All other biotypes will be ignored.(String)
-effectKeepList: A comma delimited list of the effect types that you want to keep. All other EFFECT values will be ignored.(String)
-warningDropList: A comma delimited list of warnings. Any entries that include a listed warning will be ignored.(String)
-geneListName: (String)
-geneList: (String)
-severityList: Must be a list of severity levels, listed as some combination of effectseverity types delimited with slashes. Legal types are: HIGH, MODERATE, LOW, and MODIFIER, which are standard SnpEFF effect types, and also: NS (HIGH and MODERATE), NonNS (LOW and MODIFIER), and ANY (any type).(String, default=HIGH/MODERATE/LOW)
-extractFields: This is a complex multi-part field that allows flexible extraction of information from SnpEff ANN tags. This field must be in the colon-delimited format tagInfix:ANN_idx:description:severityList[:noCollapse]. severityList must be in the same format as the severityList parameter above, but can override the default if desired. ANN_idx must be a slash-delimited list of field indices counting from zero in the ANN tag. The standard ANN field indices are: 0:allele,1:effect,2:impact,3:geneName,4:geneID,5:txType,6:txID,7:txBiotype,8:rank,9:HGVS.c,10:HGVS.p,11:cDNAposition,12:cdsPosition,13:proteinPosition,14:distToFeature,15:warnings,16:errors If multiple fields are selected then the output fields will have the format first:second:third:etc. For example, to create two new fields containing a list of all genes for which the current variant has HIGH and MODERATE impact respectively, use the format: myNewField:4:my description:HIGH/MODERATE. This will generate two new fields: myNewField_HIGH and myNewField_MODERATE. Note that if this function as a whole has a mapID set, then both field names will be prefixed by that overall ID.(String)
-geneNameIdx: (String, default=4)
-biotypeIdx: (String, default=7)
-warnIdx: (String, default=15)</p>

<h3>fixSwappedRefAlt: ...</h3>

<p>-genomeFA: The genome fasta file containing the reference genome. This will be used by various functions that require genomic information. Note that some functions that call the GATK library will also require that the fasta be indexed. Note: Chromosome names must match.(String, required)</p>

<h3>convertSampleNames: This function converts the sample IDs of the VCF file according to a decoder file that you supply. The decoder will decode</h3>

<p>-file: A tab delimited file with the from/to chromosome names.(String, required)
-columnNames: The column titles for the old chrom names and the new chrom names, in that order. If this parameter is used, the decoder file must have a title line.(String)
-columnIdx: The column number of the current chromosome names then the new chromosome names, in that order. Column indices start counting from 0. If you use this parameter to set the columns, and if the file has a title line, then you should use skipFirstRow or else it will be read in as if it were a chromosome.(Integer)
-skipFirstRow: If this parameter is set, then this tool will skip the first line on the decoder file. This is useful if you are specifying the columns using column numbers but the file also has a title line.(Flag)</p>

<h3>tagBedFile: This function takes a BED file (which can be gzipped if desired) and creates a new INFO field based on whether the variant locus overlaps with a genomic region in the BED file. The new field can be either an integer that is equal to 1 if there is overlap and 0 otherwise (which is the default behavior) Or, alternatively, it can copy in the title field from the bed file. NOTE: this function only uses the first 3 to 5 fields of the BED file, it does not implement the optional fields 10-12 which can specify intron/exon blocks.</h3>

<p>-file: (String, required)
-desc: (String, default=No desc provided)
-buffer: (Integer, default=0)
-style: (String, default=+)</p>

<h3>copyColumnToInfo:</h3>

<p>-columnID: (String, required)</p>

<h3>checkReferenceMatch: This function compares the REF column to the genomic reference and makes sure that they actually match. If mismatches are found, a warning will be thrown. In addition, a new INFO field will be added to the VCF that will be a simple integer field that will equal 1 if and only if the REF matches the reference, and 0 otherwise.</h3>

<p>-genomeFA: The genome fasta file containing the reference genome. This will be used by various functions that require genomic information. Note that some functions that call the GATK library will also require that the fasta be indexed. Note: Chromosome names must match.(String, required)</p>

<h3>keepVariants: This function drops variants based on a given true/false expression.</h3>

<p>-expr: (String)</p>

<h3>dropNullVariants: This function drops all lines with no alt alleles ('.' in the ALT column), or lines where the ALT allele is identical to the REF. Note: you must split multiallelics first. See the 'splitMultiallelics' function.</h3>

<p>(This function takes no parameters)</p>

<h3>fixFirstBaseMismatch: ...</h3>

<p>-windowSize: Sets the size of the sliding window used. Problems may occur if you have variants longer than this window size. Default is 200bp.(Int)</p>

<h3>depthStats: This function calculates various statistics on total read depth and hetAB.</h3>

<p>-inputGT: The input genotype FORMAT field.(String)
-inputAD: (String)
-inputDP: (String)
-restrictToGroup: (String)
-groupFile: A tab-delimited file containing sample ID's and a list of group IDs for each sample. See the --groupFile parameter of walkVcf.(String)
-superGroupList: See the --superGroupList parameter of walkVcf.(String)</p>

<h3>snpSiftDbnsfp: This function runs the SnpSift dbnsfp command</h3>

<p>-cmd: A valid SnpSift command(String)</p>

<h3>calcBurdenMatrix: ....</h3>

<p>-geneTag: (String, required)
-expr: (String)
-sampleSet: (String)
-group: (String)
-inputGT: (String)
-geneList: (String)
-geneListFile: (String)
-printFullGeneList: (flag)
-pathwayList: (String)
-groupFile: A tab-delimited file containing sample ID's and a list of group IDs for each sample. See the --groupFile parameter of walkVcf.(String)
-superGroupList: See the --superGroupList parameter of walkVcf.(String)
-outfile: The output matrix file path.(String, required)</p>

<h3>splitMultiAllelics: ...</h3>

<p>(This function takes no parameters)</p>

<h3>filterTags: This function can be used to remove unwanted INFO or FORMAT fields, or remove unwanted samples. This can substantially reduce file sizes.</h3>

<p>-FORMAT.keep: (String)
-FORMAT.drop: (String)
-INFO.keep: (String)
-INFO.drop: (String)
-SAMPLES.keep: (String)
-SAMPLES.drop: (String)</p>

<h3>gcContext: This function calculates the fraction of bases within k bases from the variant locus that are G or C. This can be useful to identify high-GC areas where variant calling and sequencing may be less accurate.</h3>

<p>-windowSize: The number of bases to include in the context window for determining local gc content.(String, required)
-digits: Number of digits to round to.(String, default=4)
-genomeFA: The genome fasta file containing the reference genome. This will be used by various functions that require genomic information. Note that some functions that call the GATK library will also require that the fasta be indexed. Note: Chromosome names must match.(String, required)</p>

<h3>tagVariantsExpression: This function takes a variant expression and creates a new INFO field that is 1 if and only if that expression returns TRUE, and 0 otherwise.</h3>

<p>-expr: The variant expression, which is a true/false expression using the variant expression syntax.(String, required)
-desc: A description, to go in the info field description.(String, default=No desc provided)</p>

<h3>tally: This is a set of functions that takes various counts and totals across the whole VCF.</h3>

<p>-func: (String, required)</p>

<h3>addVariantPosInfo: This function adds a new INFO field in the form: CHROM:START:REF>ALT. This can be useful for checking the effects of functions that alter the variant columns. For example, you can run this function before and after leftAlignAndTrim to see how a variant changes.</h3>

<p>(This function takes no parameters)</p>

<h3>sanitize:</h3>

<p>(This function takes no parameters)</p>

<h3>snpEff: This function runs SnpEff by calling the SnpEff library internally. It uses version 4.3t.</h3>

<p>-cmd: A valid SnpSift command(String)</p>

<h3>getLocusDepthFromWig: ...</h3>

<p>-wigfile: (String)
-desc: (String)</p>

<h3>tagVariantsFunction: This is a set of functions that all take one or more input parameters and outputs one new INFO field.</h3>

<p>-func: (String, required)
-desc: (String, default=No desc provided)
-digits: (Integer)
-params: (String)</p>

<h3>convertToStdVcf: Certain utilities (eg GATK) do not allow certain optional features of the VCFv4.2 format standard (For example: additional tag-pairs in the INFO or FORMAT header lines). This function strips out this additional metadata.</h3>

<p>(This function takes no parameters)</p>

<h3>snpEffExtractField:</h3>

<p>-tagPrefix: (String, required)
-outputTagPrefix: (String)
-columns: (String)
-desc: (String)
-collapseUniques: (Flag)
-tagSet: (String)</p>

<h3>snpSiftAnno: This function runs a SnpSift anno command</h3>

<p>-cmd: A valid SnpSift command(String)</p>

<h3>unPhaseAndSortGenotypes: This function removes phasing and sorts genotypes (so that heterozygotes are always listed as 0/1 and never 1/0).</h3>

<p>-inputGT: The input/output genotype FORMAT field.(String)
-groupFile: A tab-delimited file containing sample ID's and a list of group IDs for each sample. See the --groupFile parameter of walkVcf.(String)
-superGroupList: See the --superGroupList parameter of walkVcf.(String)</p>

<h3>calcStats: This function combines the functions sampleCounts, sampleLists, and depthStats, performing all three.</h3>

<p>-groupFile: A tab-delimited file containing sample ID's and a list of group IDs for each sample. See the --groupFile parameter of walkVcf.(String)
-superGroupList: See the --superGroupList parameter of walkVcf.(String)
-inputGT: The input genotype FORMAT field.(String)
-inputAD: (String)
-inputDP: ()
-noCountsCalc: (Flag)
-noFreqCalc: (Flag)
-noMissCalc: (Flag)
-noAlleCalc: (Flag)
-noHetHomCalc: (Flag)
-noMultiHetCalc: (Flag)
-samplePrintLimit: (String)
-noDepthStats: (Flag)
-noSampleLists: (Flag)
-noSampleCounts: (Flag)
-expr: The variant expression, which is a true/false expression using the variant expression syntax.(String)</p>

<h3>calcBurdenCounts:</h3>

<p>-geneTag: (String, required)
-expr: (String)
-sampleSet: (String)
-group: (String)
-inputGT: (String)
-groupFile: A tab-delimited file containing sample ID's and a list of group IDs for each sample. See the --groupFile parameter of walkVcf.(String)
-superGroupList: See the --superGroupList parameter of walkVcf.(String)
-countFileID: If multiple output count files are desired, you can specify which functions output to which count file using this parameter. Note that each file must be created using a --burdenCountsFile parameter, with the form fileID:/path/to/file.txt(String)</p>

<h3>markDup: This map function will detect duplicate variant lines and add two new INFO fields: mapID_CT and mapID_IDX. The CT will indicate how many duplicates were found matching the current variant, and the IDX will number each duplicate with a unique identifier, counting from 0. All nonduplicates will be marked with CT=1 and IDX=0.</h3>

<p>(This function takes no parameters)</p>

<h3>homopolymerRunStats:</h3>

<p>-runSize: The number of repeated bases required to count as a homopolymer run(String, required)
-genomeFA: The genome fasta file containing the reference genome. This will be used by various functions that require genomic information. Note that some functions that call the GATK library will also require that the fasta be indexed. Note: Chromosome names must match.(String, required)</p>

<h3>addDummyGenotypeColumn:</h3>

<p>(This function takes no parameters)</p>

<h3>concordanceCaller: ....</h3>

<p>-callerNames: Comma delimited list of caller IDs, used in the callerSet INFO fields and the names of the output GT fields. By default, callers will simply be named C1,C2,...(String)
-priority: Comma delimited list of caller IDs. The list of caller IDs in order of descending priority.(String)
-gtDecisionMethod: The merge rule for calculating ensemble-merged GT and AD tags. Valid options are priority, prioritySkipMissing, and majority_priorityOnTies. Default is simple priority.(String)
-ignoreSampleIds: If this flag is set, then sample IDs will be ignored and each VCF will be assumed to have the exact same samples in the exact same order. Use at your own risk.(flag)
-ignoreSampleOrder: If this flag is set, then the sample IDs will be used to match up the different VCFs, and the samples may be in different orders in the different files.(flag)</p>

<h3>addContextBases: This function adds several new columns,</h3>

<p>-windowSize: The number of bases to include in the context window(String, required)
-genomeFA: The genome fasta file containing the reference genome. This will be used by various functions that require genomic information. Note that some functions that call the GATK library will also require that the fasta be indexed. Note: Chromosome names must match.(String, required)</p>

<h3>convertChromNames: This function takes a file and translates chromosome names into a different format. This is most often used to convert between the chr1,chr2,... format and the 1,2,... format.</h3>

<p>-file: A tab delimited file with the from/to chromosome names.(String, required)
-columnNames: The column titles for the old chrom names and the new chrom names, in that order. If this parameter is used, the decoder file must have a title line.(String)
-columnIdx: The column number of the current chromosome names then the new chromosome names, in that order. Column indices start counting from 0. If you use this parameter to set the columns, and if the file has a title line, then you should use skipFirstRow or else it will be read in as if it were a chromosome.(Integer)
-skipFirstRow: If this parameter is set, then this tool will skip the first line on the decoder file. This is useful if you are specifying the columns using column numbers but the file also has a title line.(Flag)</p>

<h3>addVariantIdx: This function adds a new INFO column with a unique numeric value for each line. Optionally, you can add a prefix to each ID.</h3>

<p>-prefix: Prefix to prepend to the index field.(String)</p>

<h3>dropSpanIndels: This function drops Spanning indel lines ('*' alleles). Note: you must split multiallelics first!</h3>

<p>(This function takes no parameters)</p>

<h3>addAltSequence:</h3>

<p>-windowSize: The number of flanking bases to include on each side of the alt sequence.(String, default=10)
-genomeFA: The genome fasta file containing the reference genome. This will be used by various functions that require genomic information. Note that some functions that call the GATK library will also require that the fasta be indexed. Note: Chromosome names must match.(String, required)</p>

<h3>sampleLists: This function generates sample list fields which contain comma-delimited lists of samples that are het or hom-alt.</h3>

<p>-inputGT: The input genotype FORMAT field.(String)
-samplePrintLimit: (String)
-groupFile: A tab-delimited file containing sample ID's and a list of group IDs for each sample. See the --groupFile parameter of walkVcf.(String)
-superGroupList: See the --superGroupList parameter of walkVcf.(String)
-expr: The variant expression, which is a true/false expression using the variant expression syntax.(String)</p>

<h3>fixDotAltIndels: ...</h3>

<p>(This function takes no parameters)</p>

<h3>dropGenotypeData:</h3>

<p>(This function takes no parameters)</p>

<h3>extractRegion: This function extracts a single region from the VCF. NOTE: the VCF MUST BE SORTED!</h3>

<p>-region: The genomic region to extract.(String, required)
-windowSize: The size of the window around the genomic region to extract.(Int)</p>

<h3>addInfo: This is a set of functions that all take one or more input parameters and outputs one new INFO field. The syntax is: --fcn "addInfo|newTagName|fcn(param1,param2,...)". Optionally you can add "|desc=tag description". There are numerous addInfo functions. For more information, go to the section on addInfo Functions below, or use the help command: varmyknife help addInfo</h3>

<p>-func: (String, required)
-desc: The description in the header line for the new INFO field.(String, default=No desc provided)
-digits: For floating point values, the number of digits to include after the decimal(Integer)</p>

<h3>calcBurdenCountsByGroups:</h3>

<p>-geneTag: (String, required)
-groups: (String, required)
-expr: (String)
-sampleSet: (String)
-inputGT: (String)
-groupFile: A tab-delimited file containing sample ID's and a list of group IDs for each sample. See the --groupFile parameter of walkVcf.(String)
-superGroupList: See the --superGroupList parameter of walkVcf.(String)
-countFileID: If multiple output count files are desired, you can specify which functions output to which count file using this parameter. Note that each file must be created using a --burdenCountsFile parameter, with the form fileID:/path/to/file.txt(String)</p>

<h3>rmDup: ...</h3>

<p>(This function takes no parameters)</p>

<h3>leftAlignAndTrim: ...</h3>

<p>-windowSize: Sets the size of the sliding window used. Problems may occur if you have variants longer than this window size. Default is 200bp.(Int)
-genomeFA: The genome fasta file containing the reference genome. This will be used by various functions that require genomic information. Note that some functions that call the GATK library will also require that the fasta be indexed. Note: Chromosome names must match.(String, required)</p>

<h3>sampleCounts: This function generates counts and frequencies for alt alleles, alt genotypes, missing genotypes, ref genotypes, and so on. Note that there are several calc- flags. If none of these are included, then this function does nothing.</h3>

<p>-groupFile: A tab-delimited file containing sample ID's and a list of group IDs for each sample. See the --groupFile parameter of walkVcf.(String)
-superGroupList: See the --superGroupList parameter of walkVcf.(String)
-inputGT: The input genotype FORMAT field.(String)
-noCountsCalc: (Flag)
-noFreqCalc: (Flag)
-noMissCalc: (Flag)
-noAlleCalc: (Flag)
-noHetHomCalc: (Flag)
-noMultiHetCalc: (Flag)</p>

<h3>dropSymbolicAlleles:</h3>

<p>(This function takes no parameters)</p>

<h3>sampleReorder: This function allows you to reorder the sample columns in your VCF. Set ONE of the parameters below to specify the desired ordering.</h3>

<p>-sampleOrdering: A simple list of all the samples, in the desired order.(String)
-sampleOrderingFile: A file containing one sampleID per line. The samples will be reordered to match the order found in the file.(String, required)
-alphabetical: If this flag is set, then the samples will be reordered alphabetically.(Flag)</p>

<h3>genotypeFilter: This function filters a genotype field based on a given genotype expression. The new filtered genotype can replace the GT field or can be set to a different field, so multiple filtering strategies can be included in a single VCF.</h3>

<p>-expr: A Genotype Expression, using the genotype expression syntax.(String, required)
-desc: A description, to go in the new FORMAT fields.(String)
-filterTag: The name of a new FORMAT field, which will be a flag equal to 1 if and only if the genotype passes the filter.(String)
-outputGT: The output genotype FORMAT field. If this is the same as the input genotype field then the genotype field will be overwritten.(String)
-inputGT: The input genotype FORMAT field.(String)
-inputGtNewName: If this parameter is set, the input genotype field will be copied to a new tag with this name before filtering. This can be useful if overwriting the input genotype field.()
-groupFile: A tab-delimited file containing sample ID's and a list of group IDs for each sample. See the --groupFile parameter of walkVcf.(String)
-superGroupList: See the --superGroupList parameter of walkVcf.(String)</p>

</div></body></html>
